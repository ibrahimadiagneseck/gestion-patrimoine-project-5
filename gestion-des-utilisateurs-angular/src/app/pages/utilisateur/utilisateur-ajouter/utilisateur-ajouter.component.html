<div class="card shadow">

    <div class="card-header text-center fw-bold bg-myprimary fs-5">
        Ajouter utilisateur
    </div>

    <div class="card-body">

        <div class="container px-3 py-2">
            <form class="form" #utilisateurForm="ngForm" (ngSubmit)="ajouterUtilisateur(utilisateurForm)">

                <div class="row g-4 mb-3">
                    <div class="col-3 mx-auto form-group">
                        <label for="matriculeAgent" class="form-label fw-bold">N° matricule</label>
                        <input id="matriculeAgent" type="text" name="matriculeAgent" required ngModel class="text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                    </div>

                    <div class="col-3 mx-auto form-group">
                        <label for="codeAgent" class="form-label fw-bold">N° code</label>
                        <input id="codeAgent" type="text" name="codeAgent" required ngModel class="text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                    </div>
                    
                    <div class="col-3 mx-auto form-group">
                        <label for="codeCorpsAgent" class="form-label fw-bold">Corps</label>
                        <select name="codeCorpsAgent" id="codeCorpsAgent" required ngModel class="form-select text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                            <option *ngFor="let codeCorpsAgent of corpsAgents" [ngValue]="codeCorpsAgent">
                                {{ codeCorpsAgent.libelleCorpsAgent }}
                            </option>
                        </select>
                    </div>

                    <div class="col-3 mx-auto form-group">
                        <label for="codeSection" class="form-label fw-bold">Sections</label>
                        <select name="codeSection" id="codeSection" required ngModel class="form-select text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                            <option *ngFor="let codeSection of sections" [ngValue]="codeSection">
                                {{ codeSection.libelleSection }}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="row g-4 mb-3">
                    <div class="col-3 mx-auto form-group">
                        <label for="firstName" class="form-label fw-bold">Prénom</label>
                        <input id="firstName" type="text" name="firstName" required ngModel class="text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                    </div>

                    <div class="col-3 mx-auto form-group">
                        <label for="lastName" class="form-label fw-bold">Nom</label>
                        <input id="lastName" type="text" name="lastName" required ngModel class="text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                    </div>

                    <div class="col-3 mx-auto form-group">
                        <label for="email" class="form-label fw-bold">Email</label>
                        <input id="email" type="text" name="email" required ngModel class="text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                    </div>

                    <div class="col-3 mx-auto form-group">
                        <label for="mobile" class="form-label fw-bold">Téléphone</label>
                        <input id="mobile" type="text" name="mobile" required ngModel class="text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                    </div>
                </div>


                <div class="row g-4 mb-3">
                    <!-- <div class="col-3 mx-auto form-group">
                        <label for="joinDate" class="form-label fw-bold">Enregistré le</label>
                        <input type="text" name="joinDate" id="joinDate" autocomplete="off" ngbDatepicker #dp1="ngbDatepicker" (click)="dp1.toggle()" required [(ngModel)]="modelDate1" [value]="formatDate(modelDate1)" class="text-input form-control bg-mywhite border border-myprimary px-1 text-uppercase">
                    </div> -->

                    <div class="col-3 mx-auto form-group">
                        <label for="authority" class="form-label fw-bold">Secteur d'activité</label>

                        <input
                            *ngIf="authoritiesSelect && authoritiesSelect.length > 0"
                            (click)="popupSecteurActivite(authorities, user, authoritiesSelect)"
                            [style.backgroundColor]="'#f0dd99'"
                            id="authority"
                            type="button"
                            name="authority"
                            required
                            class="text-input form-control shadow-none border border-mysecondary px-1 text-uppercase fw-bold"
                            value="Sélectionner"
                        >
                        <input
                            *ngIf="!(authoritiesSelect && authoritiesSelect.length > 0)"
                            (click)="popupSecteurActivite(authorities, user)"
                            [style.backgroundColor]="'#D9D9D9'"
                            id="authority"
                            type="button"
                            name="authority"
                            required
                            class="text-input form-control shadow-none border border-mysecondary px-1 text-uppercase fw-bold"
                            value="Sélectionner"
                        >

                    </div>

                    <div class="col-3 mx-auto form-group">
                        <label for="active" class="form-label fw-bold">Activé</label>
                        <input id="active" type="text" name="active" required ngModel class="text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                    </div>

                    <div class="col-3 mx-auto form-group">
                        <label for="notLocked" class="form-label fw-bold">Bloqué</label>
                        <input id="notLocked" type="text" name="notLocked" required ngModel class="text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                    </div>

                    <div class="col-3 mx-auto form-group">
                    </div>
                </div>

                <div class="row g-4 mb-3">
                    <div class="col-9 mx-auto form-group">
                        <label for="codeSection" class="form-label fw-bold">Nom unité</label>
                        <select name="codeSection" id="codeSection" required ngModel class="form-select text-input form-control bg-mywhite border  border-myprimary px-1 text-uppercase">
                            <option *ngFor="let codeUniteDouaniere of uniteDouanieres" [ngValue]="codeUniteDouaniere">
                                {{ codeUniteDouaniere.nomUniteDouaniere }}
                            </option>
                        </select>
                    </div>

                    <div class="col-3 mx-auto">
                    </div>
                </div>
              


                <div class="row">
                    <div class="col-12 text-end">
                        <button type="submit" id="utilisateur-form" hidden class="btn btn-myprimary fw-bold mx-2" data-bs-toggle="tooltip" title="cliquer ici pour ajouter">
                            Valider
                        </button>
                    </div>
                </div>

            </form>
        </div>

        <div class="container px-3 py-2">
            <div class="row">
                <div class="col-12 text-end">
                    <button (click)="submitForm()" type="button" [disabled]="utilisateurForm.invalid || !(authoritiesSelect && authoritiesSelect.length > 0)" class="btn btn-myprimary fw-bold mx-2" data-bs-toggle="tooltip" title="cliquer ici pour ajouter">
                        Valider
                    </button>

                    <button (click)="popupFermer()" type="button" class="btn btn-mysecondary fw-bold mx-2" data-bs-toggle="tooltip" title="cliquer ici pour retourner">
                        Retour
                    </button>
                </div>
            </div>
        </div>
    </div>

</div>
